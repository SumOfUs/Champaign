---
http_interactions:
- request:
    method: put
    uri: https://api.sandbox.braintreegateway.com/merchants/<merchant_id>/customers/29823405
    body:
      encoding: UTF-8
      string: |
        <?xml version="1.0" encoding="UTF-8"?>
        <customer>
          <first-name>bob</first-name>
          <last-name>fischer</last-name>
          <email>bob@example.com</email>
        </customer>
    headers:
      Accept-Encoding:
      - gzip
      Accept:
      - application/xml
      User-Agent:
      - Braintree Ruby Gem 2.54.0
      X-Apiversion:
      - '4'
      Authorization:
      - Basic djlmcGMyZ3pxZnh4NDVucTo0MWFlNWIxOGJlNTRjNTdjN2NiZmQyMTYxNDcxN2M2ZA==
      Content-Type:
      - application/xml
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 24 Aug 2016 12:43:32 GMT
      Content-Type:
      - application/xml; charset=utf-8
      Transfer-Encoding:
      - chunked
      X-Frame-Options:
      - SAMEORIGIN
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Authentication:
      - basic_auth
      X-User:
      - 2vtm97htjg9x4v78
      Vary:
      - Accept-Encoding
      Content-Encoding:
      - gzip
      Etag:
      - W/"3a436ebd3c050fb73b9fb4e63cd617e4"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 6d1084bd-df85-493f-82c5-371fc769a4d8
      X-Runtime:
      - '0.817708'
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        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
    http_version: 
  recorded_at: Wed, 24 Aug 2016 12:43:32 GMT
- request:
    method: post
    uri: https://api.sandbox.braintreegateway.com/merchants/<merchant_id>/payment_methods
    body:
      encoding: UTF-8
      string: |
        <?xml version="1.0" encoding="UTF-8"?>
        <payment-method>
          <payment-method-nonce>fake-valid-nonce</payment-method-nonce>
          <customer-id>29823405</customer-id>
          <billing-address>
            <first-name>bob</first-name>
            <last-name>fischer</last-name>
            <postal-code>12345</postal-code>
            <street-address>Lynda Vista</street-address>
            <country-code-alpha2>US</country-code-alpha2>
          </billing-address>
        </payment-method>
    headers:
      Accept-Encoding:
      - gzip
      Accept:
      - application/xml
      User-Agent:
      - Braintree Ruby Gem 2.54.0
      X-Apiversion:
      - '4'
      Authorization:
      - Basic djlmcGMyZ3pxZnh4NDVucTo0MWFlNWIxOGJlNTRjNTdjN2NiZmQyMTYxNDcxN2M2ZA==
      Content-Type:
      - application/xml
  response:
    status:
      code: 201
      message: Created
    headers:
      Date:
      - Wed, 24 Aug 2016 12:43:33 GMT
      Content-Type:
      - application/xml; charset=utf-8
      Transfer-Encoding:
      - chunked
      X-Frame-Options:
      - SAMEORIGIN
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Authentication:
      - basic_auth
      X-User:
      - 2vtm97htjg9x4v78
      Vary:
      - Accept-Encoding
      Content-Encoding:
      - gzip
      Etag:
      - W/"a2770781a77d4f45d8533df328fa6373"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 5f2a7c61-a753-4630-981b-b44c3412870a
      X-Runtime:
      - '0.166704'
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        H4sIAHWWvVcAA6xVTXObMBC9+1cw3DGfbnAGk8mlp04vSXroJSPQ2mgsJCoJ
        x/z7rgAb4pCZdtobevtWq316K7KHc82dEyjNpNi54TpwHRClpEwcdu7L81cv
        dR/yVVYqoMx4JVE0XzlOVjDOkeIRShVobTFEGc3Lu8xndFyXrTayBuUhEm3T
        KE6CTebP0YG3Z0obT5Aa8kIWmT9bDwROLus902UFKvMnaKwl64aIzhGM71yj
        WnD9MaKNAjDXo37rBCXOD6YNyfyb2JAAZwOCAr3AC3tyWRLOzFI5BQfUciHQ
        SCzJPRQX8hC1QCnm0KWNVhjV9ZBHeFORKH95QtEW8M8yYsx4XEqJl1JEi3fB
        yjxNgpucS+R9Uq/5i2AGqPNkiAHtyL3z2FPJtMP8ahQgDeU0juka2LkUl4bV
        4OZREH7xgtSLkucwuk/i+zj+iXtcE8Yd2ob+3Q5TQm9Xf8Gv6GGRJ0EYpamN
        ix6zBvdsiRwNYru5ri/RSnKK3rXt3d6x9SDKUDLCUaCjkG/C6nHFVjMV5d5j
        WrdElJBPos3R1b8r92cDOLGsqw2ad3DcB9RyKRTMTN0NyyGwJy2/nLOQkgMR
        br4nXIPl9dGB2SqU28M5abk97Gy328iqn8aGqf4AXi2FqXB2Mv8DeMPsgCiU
        KAreUXv0ykT/Lh92jPbMCgg3FV48TMecYZbCanIAr1U8r4xp9L3vE63B6HWh
        CBP2gTlgM2+kW6MX/IZ0NQjzWoOpJH3l8iD9E3pt3YjDA4gTU1JYwk4TQQt5
        xuf0un9fDf1hnVwQcZyO9A5dXV7MJA/TNBzfyqTHsbySfObPC9AHFTQETfFd
        Ij5+D7ikbWmsX6a8CbMU3Ra6VKyxOutRV6IU6cbRMPIIIt9sDmeN1zesLN4K
        9qvtn5qiNyR2zvYMVB5s7qLNNiw2RbpJk+huGyc0ism2iGlASYoX+2nq6j+8
        GCcQtfQ0PX7ikWt8ZCssPYzJh+77qZz+nr8BAAD//wMA8bfrinMHAAA=
    http_version: 
  recorded_at: Wed, 24 Aug 2016 12:43:33 GMT
- request:
    method: post
    uri: https://api.sandbox.braintreegateway.com/merchants/<merchant_id>/subscriptions
    body:
      encoding: UTF-8
      string: |
        <?xml version="1.0" encoding="UTF-8"?>
        <subscription>
          <payment-method-token>55gxs2</payment-method-token>
          <plan-id>EUR</plan-id>
          <price>2002.0</price>
          <merchant-account-id>EUR</merchant-account-id>
        </subscription>
    headers:
      Accept-Encoding:
      - gzip
      Accept:
      - application/xml
      User-Agent:
      - Braintree Ruby Gem 2.54.0
      X-Apiversion:
      - '4'
      Authorization:
      - Basic djlmcGMyZ3pxZnh4NDVucTo0MWFlNWIxOGJlNTRjNTdjN2NiZmQyMTYxNDcxN2M2ZA==
      Content-Type:
      - application/xml
  response:
    status:
      code: 422
      message: Unprocessable Entity
    headers:
      Date:
      - Wed, 24 Aug 2016 12:43:35 GMT
      Content-Type:
      - application/xml; charset=utf-8
      Transfer-Encoding:
      - chunked
      X-Frame-Options:
      - SAMEORIGIN
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Authentication:
      - basic_auth
      X-User:
      - 2vtm97htjg9x4v78
      Vary:
      - Accept-Encoding
      Content-Encoding:
      - gzip
      Cache-Control:
      - no-cache
      X-Request-Id:
      - c2fea617-9bfc-4a80-831d-9ba4caddbd42
      X-Runtime:
      - '0.271531'
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        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
    http_version: 
  recorded_at: Wed, 24 Aug 2016 12:43:35 GMT
recorded_with: VCR 3.0.3
