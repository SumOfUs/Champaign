---
http_interactions:
- request:
    method: post
    uri: https://<public_key>:<private_key>@api.sandbox.braintreegateway.com/merchants/<merchant_id>/customers
    body:
      encoding: UTF-8
      string: |
        <?xml version="1.0" encoding="UTF-8"?>
        <customer>
          <email>foo@example.com</email>
          <first-name nil="true"/>
          <last-name nil="true"/>
          <payment-method-nonce>fake-valid-nonce</payment-method-nonce>
        </customer>
    headers:
      Accept-Encoding:
      - gzip
      Accept:
      - application/xml
      User-Agent:
      - Braintree Ruby Gem 2.54.0
      X-Apiversion:
      - '4'
      Content-Type:
      - application/xml
  response:
    status:
      code: 201
      message: Created
    headers:
      Date:
      - Tue, 15 Dec 2015 14:56:47 GMT
      Content-Type:
      - application/xml; charset=utf-8
      Transfer-Encoding:
      - chunked
      Connection:
      - close
      X-Frame-Options:
      - SAMEORIGIN
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Authentication:
      - basic_auth
      X-User:
      - 2vtm97htjg9x4v78
      Vary:
      - Accept-Encoding
      Content-Encoding:
      - gzip
      Etag:
      - '"3920175aa3382b4a9cd28ecc5931dc3b"'
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - b86c94f0-5b5a-4367-a7fe-67bbd1a9233a
      X-Runtime:
      - '0.344509'
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        H4sIAC8qcFYAA6xVy3abMBDd5yt82CsYYmKcg5WuuuymSRfd9Ag0NmqERCWR
        mHx9JczLDxz3pDvmzh1pmBnNTR53BZ+9gtJMirUX3M69GYhMUia2a+/56SuK
        vUd8k2SVNrIAhW9ms4RRHIarKIqjZeJbw2HWl+VEGGTte7FN3/LapLl6X72H
        KvHHXsfeMKUNEqSAmWB87RlVgec3Lk6mPJksSiLqExwKwjjeSPkFdqQoOdxa
        ZuLvYUcocylOj9uQ3Qn2Bqlm5szVCogBioiZmbqEtUetaVgBHg7nQYSCEAXR
        U7B4iO4fFsufiT8ENPFVSf8tfgjY39+UH20YcKr7lCgzKCOK6vZQohSpPec9
        9O8Ri6WMc9tYRChVoHWH71v6HnXNbLGu5+ig32N04E43tCVMtrW77HxzW682
        CsB0eU+QYGdAUFe0izQuM8KZmbpKwdY+hQlnKbUhHNn3AXi1COa2HmNo/DuV
        MKpuYER4mZNw8sePmXfXMEVle8CyD6iXCv65kW5P+eRgN2f4E2Npx1XgxTwI
        49hxRI+7mUbuOvyDaWIz6+0xI5ec2jGdKoGbOLeWGOH4WbwI+SbsSQM20Pal
        lBvEtK6IyAA74inaR3y+ste/vYHp5trY0cXP30fMHu34FFJmhj/em4NzQyre
        5Z1KyYEID7vKOWrjHMiVsl1B9sFU3OU/OvTY04XArmSqyQcVUpgcB6Fd1Mfg
        GXYNRNnqhfMDeoMesIEe574hXEMbNcokB8JNbucEhrRHWEdjBdkCqhTHuTGl
        fvB9ojUYfZsqwoTbSlv7g2+kdprjl6QuQJhfBZhc0l9cbqX/akf0thTbRxCv
        TEnhCGtNBE3lzi7c/vz+RjtO7jGkRLwMqR2gHbXZqQscxHGQ+K3R+WwqSvLR
        aHdAT1BQEjtH36T1td+dT1epzhQrXZEPxWV4Pka+gMDL3/UmsmK7tzpfJdif
        qtlRaTOs9peZ1S6F59EyjFZBGqVxFC/C5epuQcM7skrv6JyS2HZ3MrQ/+z9s
        nFcQhUSavkwMS+8fRSibxv4pna1I84rHgnsANDstafcbnNXr4+V3osj/sBMu
        q/FlLb6kxFfo8FUqfFGDLyjwlfp7rfpeq71XK++HuvtftOHTLyDxR8PWG2DN
        YZzwzV8AAAD//wMA6DkMRBsMAAA=
    http_version: 
  recorded_at: Tue, 15 Dec 2015 15:01:58 GMT
- request:
    method: post
    uri: https://<public_key>:<private_key>@api.sandbox.braintreegateway.com/merchants/<merchant_id>/subscriptions
    body:
      encoding: UTF-8
      string: |
        <?xml version="1.0" encoding="UTF-8"?>
        <subscription>
          <payment-method-token>7jyf5m</payment-method-token>
          <plan-id>subscription_USD</plan-id>
          <price>100.0</price>
          <merchant-account-id>USD</merchant-account-id>
        </subscription>
    headers:
      Accept-Encoding:
      - gzip
      Accept:
      - application/xml
      User-Agent:
      - Braintree Ruby Gem 2.54.0
      X-Apiversion:
      - '4'
      Content-Type:
      - application/xml
  response:
    status:
      code: 201
      message: Created
    headers:
      Date:
      - Tue, 15 Dec 2015 14:56:49 GMT
      Content-Type:
      - application/xml; charset=utf-8
      Transfer-Encoding:
      - chunked
      Connection:
      - close
      X-Frame-Options:
      - SAMEORIGIN
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Authentication:
      - basic_auth
      X-User:
      - 2vtm97htjg9x4v78
      Vary:
      - Accept-Encoding
      Content-Encoding:
      - gzip
      Etag:
      - '"6f7adf8ac7a32c9445bd39ba2d5ea95e"'
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 93b01fb8-75e1-4450-ada0-00b9c52b1aad
      X-Runtime:
      - '0.485506'
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        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
        /wIAAP//AwCes4LryxwAAA==
    http_version: 
  recorded_at: Tue, 15 Dec 2015 15:02:00 GMT
recorded_with: VCR 3.0.0
